<div class="work-list-container">
    <div class="header">
        <h1>{{ 'WORKLISTS.TITLE' | translate }}</h1>
        <div class="date-selector">
            <button mat-icon-button (click)="changeDate(-1)">
                <mat-icon>chevron_left</mat-icon>
            </button>
            <span>{{ selectedDate | date:'fullDate' }}</span>
            <button mat-icon-button (click)="changeDate(1)">
                <mat-icon>chevron_right</mat-icon>
            </button>
            <button mat-button (click)="resetDate()">Aujourd'hui</button>
        </div>
    </div>

    <mat-tab-group>
        <!-- INJECTIONS -->
        <mat-tab>
            <ng-template mat-tab-label>
                <mat-icon class="tab-icon">vaccines</mat-icon>
                {{ 'WORKLISTS.INJECTIONS' | translate }}
                <span class="badge" *ngIf="lists?.injections?.length">{{ lists?.injections?.length }}</span>
            </ng-template>

            <div class="list-content">
                <table mat-table [dataSource]="lists?.injections || []" class="mat-elevation-z8">
                    <ng-container matColumnDef="ear_tag">
                        <th mat-header-cell *matHeaderCellDef> ID </th>
                        <td mat-cell *matCellDef="let item"> {{item.ear_tag}} </td>
                    </ng-container>

                    <ng-container matColumnDef="cattle_name">
                        <th mat-header-cell *matHeaderCellDef> Nom </th>
                        <td mat-cell *matCellDef="let item"> {{item.cattle_name}} </td>
                    </ng-container>

                    <ng-container matColumnDef="description">
                        <th mat-header-cell *matHeaderCellDef> Action </th>
                        <td mat-cell *matCellDef="let item"> {{item.description}} </td>
                    </ng-container>

                    <ng-container matColumnDef="status">
                        <th mat-header-cell *matHeaderCellDef> Statut </th>
                        <td mat-cell *matCellDef="let item">
                            <mat-chip [color]="item.status === 'COMPLETED' ? 'accent' : 'warn'">
                                {{item.status}}
                            </mat-chip>
                        </td>
                    </ng-container>

                    <tr mat-header-row *matHeaderRowDef="['ear_tag', 'cattle_name', 'description', 'status']"></tr>
                    <tr mat-row *matRowDef="let row; columns: ['ear_tag', 'cattle_name', 'description', 'status'];">
                    </tr>
                </table>
                <div class="empty-state" *ngIf="!lists?.injections?.length">
                    Aucune injection prévue.
                </div>
            </div>
        </mat-tab>

        <!-- VET CHECKS -->
        <mat-tab>
            <ng-template mat-tab-label>
                <mat-icon class="tab-icon">local_hospital</mat-icon>
                {{ 'WORKLISTS.VET_CHECKS' | translate }}
                <span class="badge" *ngIf="lists?.vet_checks?.length">{{ lists?.vet_checks?.length }}</span>
            </ng-template>

            <div class="list-content">
                <table mat-table [dataSource]="lists?.vet_checks || []" class="mat-elevation-z8">
                    <ng-container matColumnDef="ear_tag">
                        <th mat-header-cell *matHeaderCellDef> ID </th>
                        <td mat-cell *matCellDef="let item"> {{item.ear_tag}} </td>
                    </ng-container>

                    <ng-container matColumnDef="cattle_name">
                        <th mat-header-cell *matHeaderCellDef> Nom </th>
                        <td mat-cell *matCellDef="let item"> {{item.cattle_name}} </td>
                    </ng-container>

                    <ng-container matColumnDef="description">
                        <th mat-header-cell *matHeaderCellDef> Motif </th>
                        <td mat-cell *matCellDef="let item"> {{item.description}} </td>
                    </ng-container>

                    <tr mat-header-row *matHeaderRowDef="['ear_tag', 'cattle_name', 'description']"></tr>
                    <tr mat-row *matRowDef="let row; columns: ['ear_tag', 'cattle_name', 'description'];"></tr>
                </table>
                <div class="empty-state" *ngIf="!lists?.vet_checks?.length">
                    Aucun contrôle vétérinaire requis.
                </div>
            </div>
        </mat-tab>

        <!-- HEAT CHECKS -->
        <mat-tab>
            <ng-template mat-tab-label>
                <mat-icon class="tab-icon">visibility</mat-icon>
                {{ 'WORKLISTS.HEAT_CHECKS' | translate }}
                <span class="badge" *ngIf="lists?.heat_checks?.length">{{ lists?.heat_checks?.length }}</span>
            </ng-template>

            <div class="list-content">
                <div class="empty-state">
                    Fonctionnalité de détection des chaleurs à venir.
                </div>
            </div>
        </mat-tab>
    </mat-tab-group>
</div>